name: Multi-dependency Deploy

on: [push]

jobs:
  # --- å¹¶è¡Œæ‰§è¡Œçš„æµ‹è¯•ä½œä¸š ---
  test-ubuntu:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Running tests on Ubuntu..." && exit 0 # exit 0 è¡¨ç¤ºæˆåŠŸ

  test-windows:
    runs-on: windows-latest
    steps:
      - run: echo "Running tests on Windows..." && exit 0

  lint-code:
    runs-on: ubuntu-latest
    steps:
      - run: echo "Linting the code..." && exit 0
      
  # --- éƒ¨ç½²ä½œä¸šï¼Œä¾èµ–äºä¸Šé¢æ‰€æœ‰ä½œä¸š ---
  deploy:
    # å…³é”®åœ¨è¿™é‡Œï¼šä¸€ä¸ªåŒ…å«å¤šä¸ªä½œä¸š ID çš„åˆ—è¡¨
    needs: [test-ubuntu, test-windows, lint-code]
    runs-on: ubuntu-latest
    steps:
      - name: Deploy to production
        run: echo "ğŸš€ All checks passed. Deploying to production!"
